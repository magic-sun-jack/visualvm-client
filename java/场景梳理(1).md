

📊 Java 性能分析采样配置清单

🔹 一、数据库场景

1. 必选（所有项目都应该加）

# JDBC 标准
java.sql.*
javax.sql.*

# 主流关系型驱动
com.mysql.cj.*                 # MySQL 8.x
com.mysql.jdbc.*               # MySQL 5.x
org.postgresql.*               # PostgreSQL
oracle.jdbc.*                  # Oracle
com.microsoft.sqlserver.jdbc.* # SQL Server
com.ibm.db2.jcc.*              # DB2

2. 常见可选（按技术栈决定）

# 连接池
com.zaxxer.hikari.*             # HikariCP (Spring Boot 默认)
org.apache.commons.dbcp2.*      # DBCP2
org.apache.commons.dbcp.*       # DBCP 1.x（老系统）
com.mchange.v2.c3p0.*           # C3P0
org.apache.tomcat.jdbc.pool.*   # Tomcat JDBC Pool
com.jolbox.bonecp.*             # BoneCP（旧系统）
org.vibur.dbcp.*                # Vibur DBCP
io.agroal.*                     # Agroal（Quarkus）
bitronix.tm.resource.jdbc.*     # Bitronix JTA/XA
com.atomikos.jdbc.*             # Atomikos JTA/XA
oracle.ucp.jdbc.*               # Oracle UCP (WebLogic/Oracle)
org.jboss.jca.adapters.jdbc.*   # IronJacamar (WildFly/JBoss)
com.sun.gjc.spi.*               # GlassFish/Payara

# ORM / JPA / 数据访问框架
org.springframework.jdbc.core.*
org.mybatis.spring.SqlSessionTemplate.*
org.apache.ibatis.executor.*
org.apache.ibatis.session.*
org.apache.ibatis.mapping.*
org.hibernate.*
jakarta.persistence.*
javax.persistence.*
org.eclipse.persistence.*
org.apache.openjpa.*
org.jooq.*                      # jOOQ DSL
spring.data.*                   # Spring Data (JPA/Mongo 等)

# NoSQL / NewSQL
com.mongodb.client.*
com.mongodb.client.internal.*
com.mongodb.internal.operation.*
com.mongodb.internal.connection.*
com.mongodb.reactivestreams.client.*
org.apache.hadoop.hbase.client.*
org.apache.hadoop.hbase.ipc.*
org.apache.hadoop.hbase.shaded.*
org.apache.hadoop.ipc.*
com.datastax.oss.driver.api.*   # Cassandra 新版
com.datastax.driver.core.*      # Cassandra 旧版
redis.clients.jedis.*           # Redis (Jedis)
io.lettuce.core.*               # Redis (Lettuce)
org.elasticsearch.client.*      # Elasticsearch

3. 国产 / 特殊数据库

dm.jdbc.driver.*                # 达梦 DM
com.kingbase8.*                 # 人大金仓 KingbaseES
com.gbase.jdbc.*                # 南大通用 GBase 8a
com.zenith.*                    # 部分 GBase 8s 分支
com.highgo.jdbc.*               # 瀚高 HighGo
oscar.sql.*                     # 神通 Oscar
org.opengauss.*                 # openGauss
com.huawei.opengauss.jdbc.*     # GaussDB / 华为版本
cn.enterprisedb.*               # EDB (PostgreSQL 商业版)

# 通用 JDBC 厂商驱动
com.ddtek.jdbc.*                # DataDirect / Progress


⸻

🔹 二、非数据库 IO 场景

1. Socket / NIO

java.net.*
java.nio.*
sun.nio.ch.*                    # NIO 实现（SocketChannel/Selector）

2. HTTP 客户端

org.apache.http.*               # Apache HttpClient 4.x
org.apache.hc.client5.*         # Apache HttpClient 5.x
org.apache.hc.core5.*
okhttp3.*                       # OkHttp3
okhttp.*                        # OkHttp 早期版本
okio.*                          # Okio IO 库
jdk.internal.net.http.*         # Java 11+ HttpClient

3. HTTP 服务器 / 容器

org.apache.coyote.*             # Tomcat 协议处理
org.apache.tomcat.util.net.*    # Tomcat NIO
org.apache.tomcat.*
org.eclipse.jetty.*             # Jetty
io.undertow.*                   # Undertow
io.netty.*                      # Netty
reactor.netty.*                 # Spring WebFlux (Reactor Netty)

4. RPC / 消息

io.grpc.*                       # gRPC
org.apache.kafka.clients.*      # Kafka 客户端
org.apache.kafka.common.network.*
org.apache.dubbo.*              # Dubbo (新版)
com.alibaba.dubbo.*             # Dubbo (旧版)

5. 文件 IO

java.io.*
java.nio.file.*
sun.nio.fs.*                    # 文件系统实现

6. 序列化 / 压缩

java.util.zip.*
com.fasterxml.jackson.*         # JSON
com.google.protobuf.*           # Protobuf
org.xerial.snappy.*             # Snappy 压缩
org.lz4.*                       # LZ4 压缩

7. RMI

java.rmi.*
javax.rmi.*
sun.rmi.*
sun.rmi.server.*
sun.rmi.transport.*
sun.rmi.registry.*


⸻

🔹 三、建议排除 (Exclude)

# 注意：不要把 java.* 一刀切排除，因为需要 java.sql.*、java.net.* 等

jdk.*
sun.*                           # 除了 sun.nio.ch.* / sun.rmi.*
com.sun.*                       # 除了 com.sun.gjc.spi.*
org.slf4j.*
ch.qos.logback.*
org.apache.logging.*
org.apache.commons.logging.*

# 非 IO 框架层（除非要排查框架逻辑）
org.springframework.*           
org.hibernate.*
org.mybatis.*
jakarta.persistence.*
javax.persistence.*

